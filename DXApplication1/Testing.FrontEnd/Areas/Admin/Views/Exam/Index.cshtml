@using Testing.Models
@model Testing.Models.Exam


<div class="row">

    <div class="col">
        <br />
        <div class="text-secondary p-1">
            <h4>Exam Name :&nbsp;&nbsp;@Model.ExamName</h4>
        </div>
        <br />

        <partial name="_NavExam" />

        <br />


        @(Html.DevExtreme().Form<Testing.Models.Exam>
            ()
            .ShowValidationSummary(true)
            .ID("form")
            .ShowColonAfterLabel(true)
            .ColCount(2)
            .LabelLocation(FormLabelLocation.Left)

            .FormData(Model)

            .Items(items =>
            {
            items.AddGroup()
            .Caption("Exam Information").CssClass("text-secondary")
           
            .Template(@<text>

                        <div class="h6 font-weight-normal">
                            Code : @Model.ExamCode
                        </div>

                        <div class="h6 font-weight-normal">
                            Name : @Model.ExamName
                        </div>

                        <div class="h6 font-weight-normal">
                            Version : @Model.Version
                        </div>

                        <div class="h6 font-weight-normal">
                            Topic Name : @Model.Subject.SubjectName
                        </div>
            </text>);;

items.AddGroup()
.Caption("Date Detail").CssClass("text-secondary")

.Template(@<text>

        <div class="h6 font-weight-normal">
            Start Date : @String.Format("{0:d MMMM yyyy}", @Model.StartDate)
        </div>

        <div class="h6 font-weight-normal">
            End Date : @String.Format("{0:d MMMM yyyy}", @Model.EndDate)
        </div>

                    <div class="h6 font-weight-normal">
                        Duration ( Days ) : @Model.ExamDuration
                    </div>

                    <div class="h6 font-weight-normal">
                        RemainingDay : @Model.RemainingDay
                    </div>

</text>);;

})
        )
        @(Html.DevExtreme().Button()
        .Text("Back")
        .Type(ButtonType.Back)
        .StylingMode(ButtonStylingMode.Contained)
        .OnClick("BacktoIndex")
        )

    </div>


    <div class="ml-3 col-sm-3 bg-light">
        <br />
        <div class="bg-white p-1 text-center h6">List Questions</div>
        <br />

        @foreach (var eq in Model.QuestionExams)
        {

            <a asp-action="Index" asp-controller="Question" asp-route-id="@eq.QuestionId">
                <span>&bull;&nbsp;  @eq.Question.QuestionString </span><br />
            </a>

        }

        <br />
        <div class="text-center">
            <div class="row card-footer">

                <div class="text-center col">
                    <h6>@Model.QuestionExams.Count</h6>
                    <a asp-action="Questions" asp-route-id="@Model.ExamId">
                        See More Questions!<br />
                    </a>
                </div>
                <div class="text-center col">
                    <h6>0</h6>
                    <a asp-action="TestedBy" asp-route-id="@Model.ExamId">
                        See Tested!<br />
                    </a>
                </div>

            </div>

        </div>
    </div>

</div>



<script>
    function BacktoIndex() {
        window.location.href = "/Admin/Exams/Index";
    }

</script>