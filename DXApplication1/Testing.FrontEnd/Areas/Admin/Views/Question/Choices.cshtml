@using Testing.Models
@model Testing.Models.Question

@(Html.DevExtreme().DataGrid<Testing.Models.Choice>
    ()
    .ID("gridContainer")
    .ShowBorders(true)

    .Paging(paging => paging.Enabled(false))
    .Editing(editing =>
    {
        editing.Mode(GridEditMode.Row);
        editing.AllowAdding(true);
        editing.AllowDeleting(true);
        editing.AllowUpdating(true);
    })
    .Columns(columns =>
    {
        columns.AddFor(m => m.ChoiceString).Caption("Choices").Width(300);


    })
.DataSource(d => d.Mvc()
.LoadAction("Get")
.LoadParams(new  { id= Model.QuestionId})
.UpdateAction("Put")
.InsertAction("Post")
.DeleteAction("Delete")
.Key("ChoiceId")

)
 .OnInitNewRow("getQuestionId")
)

<script>

    function getQuestionId(e) {       
            e.data.QuestionId = '@Model.QuestionId.ToString()' ;
    }
</script>